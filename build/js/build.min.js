const cars=[{id:"0",carName:"BMW",model:"e34",carPrice:"5000",engineVolume:"3.5",maxSpeed:"250",horsePower:"366"},{id:"1",carName:"Audi",model:"r8",carPrice:"5600",engineVolume:"3.7",maxSpeed:"260",horsePower:"380"},{id:"2",carName:"Subaru",model:"Impreza",carPrice:"5700",engineVolume:"3.6",maxSpeed:"280",horsePower:"366"},{id:"3",carName:"Zaz 1102",model:"Tavria Nova",carPrice:"1000",engineVolume:"1.3",maxSpeed:"180",horsePower:"66"}],people=[{id:"11",name:"David Joker",money:"20000",type:"people",garage:[{id:"0",carName:"BMW",model:"e34",carPrice:"4000",engineVolume:"3.5",maxSpeed:"250",horsePower:"366"},{id:"2",carName:"Audi",model:"r8",carPrice:"4600",engineVolume:"3.7",maxSpeed:"260",horsePower:"380"}]},{id:"12",name:"Valeriy Meladze",money:"5000",type:"people",garage:[{id:"0",carName:"BMW",model:"e34",carPrice:"4000",engineVolume:"3.5",maxSpeed:"250",horsePower:"366"},{id:"2",carName:"Audi",model:"r8",carPrice:"4600",engineVolume:"3.7",maxSpeed:"260",horsePower:"380"}]},{id:"13",name:"Donald Trump",money:"5000",type:"people",garage:[{id:"0",carName:"BMW",model:"e34",carPrice:"4000",engineVolume:"3.5",maxSpeed:"250",horsePower:"366"},{id:"2",carName:"Audi",model:"r8",carPrice:"4600",engineVolume:"3.7",maxSpeed:"260",horsePower:"380"}]}],company=[{id:"21",name:"Lohika",money:"50000000",type:"company",garage:[{id:"0",carName:"BMW",model:"e34",carPrice:"4000",engineVolume:"3.5",maxSpeed:"250",horsePower:"366"},{id:"2",carName:"Audi",model:"r8",carPrice:"4600",engineVolume:"3.7",maxSpeed:"260",horsePower:"380"},{id:"3",carName:"Subaru",model:"Impreza",carPrice:"5700",engineVolume:"3.6",maxSpeed:"280",horsePower:"366"}]},{id:"22",name:"ONAPT",money:"0",type:"company",garage:[{id:"0",carName:"BMW",model:"e34",carPrice:"4000",engineVolume:"3.5",maxSpeed:"250",horsePower:"366"},{id:"4",carName:"Zaz 1102",model:"Tavria Nova",carPrice:"1000",engineVolume:"1.3",maxSpeed:"180",horsePower:"66"}]},{id:"23",name:"House",money:"12345",type:"company",garage:[{id:"0",carName:"BMW",model:"e34",carPrice:"4000",engineVolume:"3.5",maxSpeed:"250",horsePower:"366"},{id:"4",carName:"Zaz 1102",model:"Tavria Nova",carPrice:"1000",engineVolume:"1.3",maxSpeed:"180",horsePower:"66"}],NewItem:function(e,t,n){for(let e=0;e<n.length;e++)this.id=""+(n.length+1),this.id===n[e].id&&this.id++;this.name=e,this.money=t,this.type=type,this.garage=[]}}];function showContent(){localStorageData();const e=document.getElementById("cars"),t=document.createElement("button");t.innerHTML="Car showroom",t.classList.add("showBtn"),e.appendChild(t),t.addEventListener("click",deleteContent),t.addEventListener("click",handleShowCarsShop);const n=document.createElement("button");n.innerHTML="Show people",n.classList.add("showBtn"),e.appendChild(n),n.addEventListener("click",deleteContent),n.addEventListener("click",handleShowPeople);const a=document.createElement("button");a.innerHTML="Show company",a.classList.add("showBtn"),e.appendChild(a),a.addEventListener("click",deleteContent),a.addEventListener("click",handleShowCompany)}function handleShowCarsShop(){const e=document.getElementById("cars"),t=document.createElement("div"),n=JSON.parse(localStorage.getItem("cars"));t.classList.add("content"),e.appendChild(t),createCarShop(t,n)}function createCarShop(e,t){const n=document.createElement("button");n.classList.add("btnAddItem"),e.appendChild(n),n.addEventListener("click",handleAddNewCar);for(let a=0;a<t.length;a++){const d=document.createElement("div"),r=document.createElement("h2"),c=document.createElement("p"),o=document.createElement("p");d.classList.add("item"),r.classList.add("name"),c.classList.add("info"),o.classList.add("info"),e.appendChild(d),d.appendChild(r),d.appendChild(c),d.appendChild(o),r.innerHTML=t[a].carName,c.innerHTML="Model: "+t[a].model,o.innerHTML="Price: "+t[a].carPrice+"$";const i=document.createElement("button"),l=document.createElement("button"),s=document.createElement("button");i.classList.add("btnOwners"),l.classList.add("btnOwners"),s.classList.add("btnOwners"),i.innerHTML="View car",l.innerHTML="Delete car",s.innerHTML="Buy car",n.innerHTML="Add new car",i.setAttribute("data-carId",t[a].id),l.setAttribute("data-carId",t[a].id),s.setAttribute("data-carId",t[a].id),d.appendChild(i),d.appendChild(l),d.appendChild(s),i.addEventListener("click",handleViewCar),l.addEventListener("click",handleDeleteCar),s.addEventListener("click",handleBuyCar)}}function handleAddNewCar(){deleteContent();const e=document.getElementById("cars"),t=document.createElement("div"),n=document.createElement("div"),a=document.createElement("h2"),d=document.createElement("input"),r=document.createElement("input"),c=document.createElement("input"),o=document.createElement("input"),i=document.createElement("input"),l=document.createElement("input"),s=document.createElement("button");t.classList.add("content"),n.classList.add("item"),e.appendChild(t),t.appendChild(n),n.appendChild(a),n.appendChild(d),n.appendChild(r),n.appendChild(c),n.appendChild(i),n.appendChild(o),n.appendChild(l),n.appendChild(s),a.innerText="Add new car",d.setAttribute("placeholder","Car name"),r.setAttribute("placeholder","Car model"),c.setAttribute("placeholder","Price"),o.setAttribute("placeholder","Engine volume"),i.setAttribute("placeholder","Car max speed"),l.setAttribute("placeholder","Car horsepower"),s.classList.add("btnOk"),s.innerText="OK",s.addEventListener("click",(function(){const e=JSON.parse(localStorage.getItem("cars"));let t=new Car(d.value,r.value,c.value,o.value,i.value,l.value,e),n=0;""===d.value||null===d.value.match(/[A-z]{1,}/)?d.classList.add("invalid"):(d.classList.remove("invalid"),n++),""===i.value||null===i.value.match(/^\d{1,}$/)?i.classList.add("invalid"):(i.classList.remove("invalid"),n++),""===r.value||null===r.value.match(/\w/)?r.classList.add("invalid"):(r.classList.remove("invalid"),n++),""===c.value||null===c.value.match(/^\d{1,}$/)?c.classList.add("invalid"):(c.classList.remove("invalid"),n++),""===o.value||null===o.value.match(/^\d{1,}$/)?o.classList.add("invalid"):(o.classList.remove("invalid"),n++),""===l.value||null===l.value.match(/^\d{1,}$/)?l.classList.add("invalid"):(l.classList.remove("invalid"),n++),6===n&&(e.push(t),localStorage.setItem("cars",JSON.stringify(e)),deleteContent(),handleShowCarsShop())}));const m=document.querySelectorAll("input");for(let e=0;e<m.length;e++)m[e].addEventListener("blur",(function(){m[e].classList.remove("invalid")}))}function Car(e,t,n,a,d,r,c){for(let e=0;e<c.length;e++)this.id=""+(c.length+1),this.id===c[e].id&&this.id++;this.carName=e,this.model=t,this.carPrice=n,this.engineVolume=a,this.maxSpeed=d,this.horsePower=r}function handleBuyCar(){const e=event.target.getAttribute("data-carId");deleteContent();const t=document.getElementById("cars"),n=document.createElement("div"),a=document.createElement("h2"),d=document.createElement("button"),r=document.createElement("button");n.classList.add("confirmBlock"),d.classList.add("confirmBlock__btn"),r.classList.add("confirmBlock__btn"),d.setAttribute("data-carId",e),r.setAttribute("data-carId",e),a.innerHTML="Person or Company?",d.innerHTML="Person",r.innerHTML="Company",t.appendChild(n),n.appendChild(a),n.appendChild(d),n.appendChild(r),d.addEventListener("click",handlePersonBuyCar),r.addEventListener("click",handleCompanyBuyCar)}function handleCompanyBuyCar(){const e=document.getElementById("cars"),t=event.target.getAttribute("data-carId"),n=JSON.parse(localStorage.getItem("company"));personOrCompany(JSON.parse(localStorage.getItem("cars")).find((function(e){return e.id===t})),n,e)}function handlePersonBuyCar(){const e=document.getElementById("cars"),t=event.target.getAttribute("data-carId"),n=JSON.parse(localStorage.getItem("people"));personOrCompany(JSON.parse(localStorage.getItem("cars")).find((function(e){return e.id===t})),n,e)}function personOrCompany(e,t,n){deleteContent();const a=document.createElement("form"),d=document.createElement("div"),r=document.createElement("h2");d.classList.add("item"),r.classList.add("titleBuyForm"),a.classList.add("content"),n.appendChild(a),a.appendChild(d),d.appendChild(r),r.innerHTML=`${e.carName} Price: ${e.carPrice}$,Choose person:`;const c=localStorage.getItem("people"),o=localStorage.getItem("company"),i=JSON.stringify(t);for(let n=0;n<t.length;n++){const a=document.createElement("p");a.innerHTML=`${t[n].name}, Money: ${t[n].money}$`,a.setAttribute("data-carId",e.id),i===c&&a.setAttribute("data-peopleId",t[n].id),i===o&&a.setAttribute("data-companyId",t[n].id),d.appendChild(a),a.classList.add("name"),a.addEventListener("click",handleItemBuyCar)}}function handleItemBuyCar(){const e=event.target.getAttribute("data-peopleId"),t=event.target.getAttribute("data-companyId");deleteContent();const n=document.getElementById("cars"),a=document.createElement("div"),d=document.createElement("h2"),r=document.createElement("button"),c=document.createElement("button");a.classList.add("confirmBlock"),r.classList.add("confirmBlock__btn"),r.classList.add("confirmBlock__btn"),d.innerText="Confirm?",r.innerText="Yes",c.innerText="No",n.appendChild(a),a.appendChild(d),a.appendChild(r),a.appendChild(c);const o=event.target.getAttribute("data-carId"),i=JSON.parse(localStorage.getItem("cars")),l=JSON.parse(localStorage.getItem("people")),s=JSON.parse(localStorage.getItem("company")),m=i.find((function(e){return e.id===o}));r.setAttribute("data-carId",m.id);const p=l.find((function(t){return t.id===e})),u=s.find((function(e){return e.id===t}));e&&r.setAttribute("data-peopleId",p.id),t&&r.setAttribute("data-companyId",u.id),r.addEventListener("click",(function(){if(e)for(let e=0;e<l.length;e++)if(l[e].id===p.id&&(Number(l[e].money)<Number(m.carPrice)&&notEnoughMoney(),Number(l[e].money)>=Number(m.carPrice))){const t=i.indexOf(m);i.splice(t,1),localStorage.setItem("cars",JSON.stringify(i)),l[e].money=Number(l[e].money-m.carPrice).toString(),m.carPrice=(Number(m.carPrice)-1e3).toString(),l[e].garage.push(m),localStorage.setItem("people",JSON.stringify(l)),handleShowPeople(),a.remove()}if(t)for(let e=0;e<s.length;e++)if(s[e].id===u.id&&(Number(s[e].money)<Number(m.carPrice)&&notEnoughMoney(),Number(s[e].money)>=Number(m.carPrice))){const t=i.indexOf(m);i.splice(t,1),localStorage.setItem("cars",JSON.stringify(i)),s[e].money=Number(s[e].money-m.carPrice).toString(),m.carPrice=(Number(m.carPrice)-1e3).toString(),s[e].garage.push(m),localStorage.setItem("company",JSON.stringify(s)),handleShowCompany(),a.remove()}})),c.addEventListener("click",(function(){a.remove()}))}function notEnoughMoney(){deleteContent();const e=document.getElementById("cars"),t=document.createElement("div"),n=document.createElement("h2");t.classList.add("confirmBlock"),n.innerText="Not enough money",e.appendChild(t),t.appendChild(n)}function handleDeleteCar(){deleteContent();const e=JSON.parse(localStorage.getItem("cars")),t=event.target.getAttribute("data-carId"),n=document.getElementById("cars");confirmDeleteCar(e.find((function(e){return e.id===t})),n,e)}function confirmDeleteCar(e,t,n){const a=document.createElement("div"),d=document.createElement("h2"),r=document.createElement("button"),c=document.createElement("button");a.classList.add("confirmBlock"),r.classList.add("confirmBlock__btn"),r.classList.add("confirmBlock__btn"),d.innerText="Confirm?",r.innerText="Yes",c.innerText="No",t.appendChild(a),a.appendChild(d),a.appendChild(r),a.appendChild(c),r.addEventListener("click",(function(){const t=n.indexOf(e);n.splice(t,1),localStorage.setItem("cars",JSON.stringify(n)),handleShowCarsShop(),a.remove()})),c.addEventListener("click",(function(){handleShowCarsShop(),a.remove()}))}function handleViewCar(){const e=JSON.parse(localStorage.getItem("cars")),t=event.target.getAttribute("data-carId"),n=document.getElementById("cars");showCarInfo(e.find((function(e){return e.id===t})),n)}function showCarInfo(e,t){deleteContent();const n=document.createElement("div"),a=document.createElement("div"),d=document.createElement("h2"),r=document.createElement("p"),c=document.createElement("p"),o=document.createElement("p"),i=document.createElement("p"),l=document.createElement("p");n.classList.add("content"),a.classList.add("item"),a.classList.add("itemCar"),d.classList.add("name"),r.classList.add("info"),c.classList.add("info"),o.classList.add("info"),i.classList.add("info"),l.classList.add("info"),d.innerHTML=e.carName,r.innerHTML="Model: "+e.model,c.innerHTML="Price: "+e.carPrice+"$",o.innerHTML="Engine volume: "+e.engineVolume,i.innerHTML="Max speed: "+e.maxSpeed,l.innerHTML="Horse power: "+e.horsePower,t.appendChild(n),n.appendChild(a),a.appendChild(d),a.appendChild(r),a.appendChild(c),a.appendChild(o),a.appendChild(i),a.appendChild(l);const s=document.createElement("button");s.innerHTML="Back",s.addEventListener("click",deleteContent),s.addEventListener("click",handleShowCarsShop),a.appendChild(s)}function handleShowCompany(){const e=JSON.parse(localStorage.getItem("company"));createOwners(document.getElementById("cars"),e)}function handleShowPeople(){const e=JSON.parse(localStorage.getItem("people"));createOwners(document.getElementById("cars"),e)}function createOwners(e,t){const n=document.createElement("div");e.appendChild(n);const a=JSON.stringify(t),d=localStorage.getItem("people"),r=localStorage.getItem("company");for(let e=0;e<t.length;e++){const c=document.createElement("div"),o=document.createElement("h2"),i=document.createElement("p"),l=document.createElement("ul");n.classList.add("content"),c.classList.add("item"),o.classList.add("name"),n.appendChild(c),c.appendChild(o),c.appendChild(i),c.appendChild(l),o.innerHTML=t[e].name,i.innerHTML=`Money: ${t[e].money}$`;let s=t[e].garage;for(let n=0;n<t[e].garage.length;n++){const e=document.createElement("li");e.innerHTML=`${s[n].carName} ${s[n].carPrice}$`,e.setAttribute("data-carId",s[n].id),l.appendChild(e)}const m=document.createElement("button"),p=document.createElement("button");m.innerHTML="View garage",p.innerHTML="Delete item",a===d&&(m.setAttribute("data-peopleId",t[e].id),p.setAttribute("data-peopleId",t[e].id)),a===r&&(m.setAttribute("data-companyId",t[e].id),p.setAttribute("data-companyId",t[e].id)),m.classList.add("btnOwners"),p.classList.add("btnOwners"),c.appendChild(m),c.appendChild(p),m.addEventListener("click",handleViewGarage),p.addEventListener("click",handleDeleteItem)}const c=document.createElement("button");c.classList.add("btnAddItem"),c.innerHTML="Add new item",n.appendChild(c),a===d&&c.setAttribute("data-newItemBtn","people"),a===r&&c.setAttribute("data-newItemBtn","company"),c.addEventListener("click",handleAddNewItem)}function handleDeleteItem(){deleteContent();const e=event.target.getAttribute("data-peopleId"),t=event.target.getAttribute("data-companyId"),n=document.getElementById("cars"),a=document.createElement("div"),d=document.createElement("h2"),r=document.createElement("button"),c=document.createElement("button");a.classList.add("confirmBlock"),r.classList.add("confirmBlock__btn"),r.classList.add("confirmBlock__btn"),d.innerText="Confirm?",r.innerText="Yes",c.innerText="No",n.appendChild(a),a.appendChild(d),a.appendChild(r),a.appendChild(c),e&&r.setAttribute("data-peopleId",e),t&&r.setAttribute("data-companyId",t),r.addEventListener("click",(function(){const e=event.target.getAttribute("data-peopleId"),t=event.target.getAttribute("data-companyId");if(e){const t=JSON.parse(localStorage.getItem("people")),n=t.find((function(t){return t.id===e})),a=t.indexOf(n);t.splice(a,1),localStorage.setItem("people",JSON.stringify(t)),handleShowPeople()}if(t){const e=JSON.parse(localStorage.getItem("company")),n=e.find((function(e){return e.id===t})),a=e.indexOf(n);e.splice(a,1),localStorage.setItem("company",JSON.stringify(e)),handleShowCompany()}a.remove()})),c.addEventListener("click",(function(){handleShowCarsShop(),a.remove()}))}function handleAddNewItem(){deleteContent();const e=document.getElementById("cars"),t=document.createElement("div"),n=document.createElement("div"),a=document.createElement("h2"),d=document.createElement("input"),r=document.createElement("input"),c=document.createElement("button");t.classList.add("content"),n.classList.add("item"),e.appendChild(t),t.appendChild(n),n.appendChild(a),n.appendChild(d),n.appendChild(r),n.appendChild(c),a.innerText="Add new item",d.setAttribute("placeholder","Name"),r.setAttribute("placeholder","Money"),c.classList.add("btnOk"),c.innerText="OK";const o=event.target.getAttribute("data-newItemBtn");c.addEventListener("click",(function(){let e=0;if(""===d.value||null===d.value.match(/[A-Z][a-z]{1,}/)?d.classList.add("invalid"):(d.classList.remove("invalid"),e++),""===r.value||null===r.value.match(/\d/)?r.classList.add("invalid"):(r.classList.remove("invalid"),e++),"people"===o&&2===e){const e=JSON.parse(localStorage.getItem("people"));let t=new Item(d.value,r.value,"people",e);e.push(t),localStorage.setItem("people",JSON.stringify(e)),deleteContent(),handleShowPeople()}if("company"===o&&2===e){const e=JSON.parse(localStorage.getItem("company"));let t=new Item(d.value,r.value,"company",e);e.push(t),localStorage.setItem("company",JSON.stringify(e)),deleteContent(),handleShowCompany()}}));const i=document.querySelectorAll("input");for(let e=0;e<i.length;e++)i[e].addEventListener("blur",(function(){i[e].classList.remove("invalid")}))}function Item(e,t,n,a){for(let e=0;e<a.length;e++)this.id=""+(a.length+1),this.id===a[e].id&&this.id++;this.name=e,this.money=t,this.type=n,this.garage=[]}function handleViewGarage(){const e=event.target.getAttribute("data-peopleId"),t=event.target.getAttribute("data-companyId"),n=JSON.parse(localStorage.getItem("people")),a=JSON.parse(localStorage.getItem("company"));if(deleteContent(),e){showGarage(n.find((function(t){return t.id===e})))}if(t){showGarage(a.find((function(e){return e.id===t})))}}function showGarage(e){const t=document.getElementById("cars"),n=document.createElement("div"),a=document.createElement("h2");n.classList.add("content"),a.innerHTML="Garage "+e.name,a.classList.add("contentTitle"),n.appendChild(a),t.appendChild(n);for(let t=0;t<e.garage.length;t++){const a=document.createElement("div"),d=document.createElement("h2"),r=document.createElement("p"),c=document.createElement("p"),o=document.createElement("p"),i=document.createElement("p"),l=document.createElement("p"),s=document.createElement("button");s.setAttribute("data-carId",e.garage[t].id),s.innerHTML="Sell car","people"===e.type&&s.setAttribute("data-peopleId",e.id),"company"===e.type&&s.setAttribute("data-companyId",e.id),a.classList.add("item"),n.appendChild(a),a.appendChild(d),a.appendChild(r),a.appendChild(c),a.appendChild(o),a.appendChild(i),a.appendChild(l),a.appendChild(s),d.innerHTML=e.garage[t].carName,r.innerHTML="Model: "+e.garage[t].model,c.innerHTML=`Price: ${e.garage[t].carPrice}$`,o.innerHTML="Engine volume: "+e.garage[t].engineVolume,i.innerHTML="Max speed: "+e.garage[t].maxSpeed,l.innerHTML="Horse power: "+e.garage[t].horsePower,s.addEventListener("click",handleSellCar)}}function handleSellCar(){const e=event.target.getAttribute("data-peopleId"),t=event.target.getAttribute("data-companyId"),n=event.target.getAttribute("data-carId"),a=document.getElementById("cars");JSON.parse(localStorage.getItem("company"));deleteContent();const d=document.createElement("div"),r=document.createElement("h2"),c=document.createElement("button"),o=document.createElement("button");d.classList.add("confirmBlock"),c.classList.add("confirmBlock__btn"),c.classList.add("confirmBlock__btn"),r.innerText="Confirm?",c.innerText="Yes",o.innerText="No",a.appendChild(d),d.appendChild(r),d.appendChild(c),d.appendChild(o),c.setAttribute("data-carId",n),e&&(c.setAttribute("data-peopleId",e),c.addEventListener("click",handleBtnYesSellCar)),t&&(c.setAttribute("data-companyId",t),c.addEventListener("click",handleBtnYesSellCar)),c.addEventListener("click",(function(){d.remove()})),o.addEventListener("click",(function(){d.remove()}))}function handleBtnYesSellCar(){const e=event.target.getAttribute("data-peopleId"),t=event.target.getAttribute("data-companyId"),n=event.target.getAttribute("data-carId");if(e){const t=JSON.parse(localStorage.getItem("people")),a=t.find((function(t){return t.id===e}));let d=a.garage;const r=d.find((function(e){return e.id===n}));a.money=(Number(a.money)+Number(r.carPrice)).toString();const c=d.indexOf(r);d.splice(c,1);const o=t.indexOf(a);t.splice(o,a),localStorage.setItem("people",JSON.stringify(t));const i=JSON.parse(localStorage.getItem("cars"));r.carPrice=(Number(r.carPrice)+1e3).toString(),i.push(r),localStorage.setItem("cars",JSON.stringify(i)),handleShowPeople()}if(t){const e=JSON.parse(localStorage.getItem("company")),a=e.find((function(e){return e.id===t}));let d=a.garage;const r=d.find((function(e){return e.id===n}));a.money=(Number(a.money)+Number(r.carPrice)).toString();const c=d.indexOf(r);d.splice(c,1);const o=e.indexOf(a);e.splice(o,a),localStorage.setItem("company",JSON.stringify(e));const i=JSON.parse(localStorage.getItem("cars"));r.carPrice=(Number(r.carPrice)+1e3).toString(),i.push(r),localStorage.setItem("cars",JSON.stringify(i)),handleShowCompany()}}function localStorageData(){localStorage.getItem("cars")||localStorage.setItem("cars",JSON.stringify(cars));localStorage.getItem("people")||localStorage.setItem("people",JSON.stringify(people));localStorage.getItem("company")||localStorage.setItem("company",JSON.stringify(company))}function deleteContent(){const e=document.querySelectorAll(".content"),t=document.querySelector(".confirmBlock");if(t&&t.remove(),e)for(let t=0;t<e.length;t++)e[t].remove()}showContent();
//# sourceMappingURL=build.min.js.map
